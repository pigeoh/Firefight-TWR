<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Firefight: Twilight-Struggle</title>
  <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', system-ui;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }
    
    body {
        background: #121212;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }
    
    .menu-container {
        width: 100%;
        max-width: 1200px;
        padding: 2rem;
        background: #1e1e1e;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        transition: all 0.3s ease;
        position: relative;
    }
    
    /* 页面切换效果 */
    .page {
        transition: transform 0.5s ease, opacity 0.5s ease;
        width: 100%;
    }
    
    .page.hidden {
        transform: translateX(-100%);
        opacity: 0;
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
    }
    
    .page.active {
        transform: translateX(0);
        opacity: 1;
    }
    
    /* 图标容器样式 */
    .icon-container {
        display: flex;
        justify-content: center;
        margin-bottom: 2rem;
    }
    
    .icon-placeholder {
        width: 200px;
        height: 200px;
        background: #333;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #888;
        font-size: 1rem;
        text-align: center;
        padding: 1rem;
        overflow: hidden;
    }
    
    .icon-placeholder img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }
    
    .menu-title {
        padding: 1.5rem;
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        font-weight: 600;
        color: #f0f0f0;
        border-bottom: 2px solid #333;
        margin-bottom: 2rem;
        text-align: center;
        transition: font-size 0.3s;
    }
    
    /* 主页面主题图区域 */
    .main-theme-container {
        width: 100%;
        max-width: 800px;
        margin: 0 auto 2rem;
    }
    
    .main-theme-image {
        width: 100%;
        background: #333;
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 1rem;
    }
    
    .main-theme-image img {
        width: 100%;
        height: auto;
        display: block;
    }
    
    .main-image-caption {
        text-align: center;
        color: #888;
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
        font-style: italic;
    }
    
    /* 更新内容面板 */
    .update-panel {
        background: linear-gradient(145deg, #2a2a2a, #1f1f1f);
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        border: 1px solid #444;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        position: relative;
        overflow: hidden;
    }
    
    .update-panel::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: #b30000;
    }
    
    .update-title {
        color: #f0f0f0;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
        text-align: center;
        position: relative;
    }
    
    .update-title::after {
        content: '';
        display: block;
        width: 50px;
        height: 2px;
        background: #b30000;
        margin: 0.5rem auto;
    }
    
    .update-content {
        color: #d0d0d0;
        line-height: 1.6;
        font-size: 1.05rem;
    }
    
    .update-highlight {
        color: #ff9900;
        font-weight: 600;
    }
    
    .nav-list {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        list-style: none;
        gap: 1.5rem;
        padding: 0 1rem;
    }
    
    .nav-item {
        position: relative;
        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        flex: 1 0 auto;
        max-width: 300px;
    }
    
    .nav-link {
        text-decoration: none;
        color: #f0f0f0;
        padding: 1rem;
        border-radius: 6px;
        position: relative;
        overflow: hidden;
        transition: transform 0.25s, background 0.3s;
        display: block;
        text-align: center;
        font-size: clamp(1rem, 2vw, 1.2rem);
        background: #2a2a2a;
    }
    
    .nav-link::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        background: #ff0000;
        bottom: 0;
        left: 0;
        transition: width 0.3s ease;
    }
    
    .nav-link:hover {
        transform: translateY(-3px);
        background: #333;
    }
    
    .nav-link:hover::after {
        width: 100%;
    }
    
    /* 下载按钮动画 */
    .download-btn {
        background: #b30000;
        color: white;
        padding: 1rem 2rem;
        border-radius: 25px;
        transition: transform 0.3s, box-shadow 0.3s;
        font-size: clamp(1rem, 2vw, 1.2rem);
        display: block;
        margin: 2rem auto 0;
        max-width: 300px;
        text-decoration: none;
        text-align: center;
        cursor: pointer;
        border: none;
    }
    
    .download-btn::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        background: #ff0000;
        bottom: 0;
        left: 0;
        transition: width 0.3s ease;
    }
    
    .download-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(179, 0, 0, 0.5);
    }
    
    .download-btn:hover::after {
        width: 100%;
    }
    
    /* 第二页样式 */
    .help-page {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .help-title {
        padding: 1.5rem;
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        font-weight: 600;
        color: #f0f0f0;
        border-bottom: 2px solid #333;
        margin-bottom: 2rem;
        text-align: center;
        width: 100%;
    }
    
    .help-buttons {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 2rem;
        width: 100%;
        margin-top: 1rem;
    }
    
    .help-button {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        padding: 2rem;
        border-radius: 12px;
        transition: all 0.3s ease;
        max-width: 300px;
        width: 100%;
        text-align: center;
    }
    
    .help-button:hover {
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    }
    
    .help-icon {
        width: 64px;
        height: 64px;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-size: 2.5rem;
        color: white;
    }
    
    .help-icon img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }
    
    .qq-button {
        background: #12b7f5;
    }
    
    .discord-button {
        background: #5865f2;
    }
    
    .button-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: white;
    }
    
    .button-desc {
        font-size: 1rem;
        color: rgba(255,255,255,0.8);
    }
    
    .back-button {
        background: #333;
        color: white;
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 25px;
        margin-top: 2rem;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1rem;
    }
    
    .back-button:hover {
        background: #444;
    }
    
    /* 鸣谢页面样式 */
    .thanks-page {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .thanks-title {
        padding: 1.5rem;
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        font-weight: 600;
        color: #f0f0f0;
        border-bottom: 2px solid #333;
        margin-bottom: 2rem;
        text-align: center;
        width: 100%;
    }
    
    .thanks-content {
        width: 100%;
        max-width: 800px;
        text-align: center;
        margin-bottom: 2rem;
        color: #f0f0f0;
        line-height: 1.6;
    }
    
    .contributors {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1.5rem;
        width: 100%;
        margin-top: 1rem;
    }
    
    .contributor-card {
        background: #2a2a2a;
        border-radius: 8px;
        padding: 1.5rem;
        width: 100%;
        max-width: 250px;
        text-align: center;
        transition: transform 0.3s ease, background 0.3s;
    }
    
    .contributor-card:hover {
        background: #333;
    }
    
    .contributor-name {
        font-size: 1.2rem;
        font-weight: 600;
        color: #f0f0f0;
        margin-bottom: 0.5rem;
    }
    
    .contributor-role {
        font-size: 1rem;
        color: #888;
    }
    
    /* 介绍页面样式 */
    .intro-page {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .intro-title {
        padding: 1.5rem;
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        font-weight: 600;
        color: #f0f0f0;
        border-bottom: 2px solid #333;
        margin-bottom: 2rem;
        text-align: center;
        width: 100%;
    }
    
    .intro-content {
        width: 100%;
        max-width: 800px;
        color: #f0f0f0;
        line-height: 1.6;
        margin-bottom: 2rem;
    }
    
    .theme-image-container {
        width: 100%;
        max-width: 800px;
        margin-bottom: 1.5rem;
        position: relative;
    }
    
    .theme-image {
        width: 100%;
        background: #333;
        border-radius: 8px;
        overflow: hidden;
        position: relative;
    }
    
    .theme-image-placeholder {
        display: flex;
        align-items: center;
        justify-content: center;
        color: #888;
        font-size: 1.2rem;
        text-align: center;
        padding: 1rem;
    }
    
    .theme-image-placeholder img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }
    
    .image-caption {
        text-align: center;
        color: #888;
        font-size: 0.9rem;
        margin-top: 0.5rem;
        font-style: italic;
    }
    
    /* 下载页面样式 */
    .download-page {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .download-title {
        padding: 1.5rem;
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        font-weight: 600;
        color: #f0f0f0;
        border-bottom: 2px solid #333;
        margin-bottom: 2rem;
        text-align: center;
        width: 100%;
    }
    
    .declaration {
        width: 100%;
        max-width: 800px;
        margin-bottom: 2rem;
        text-align: center;
    }
    
    .declaration-title {
        color: #ff0000;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
    }
    
    .declaration-content {
        color: #888;
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 2rem;
    }
    
    .apk-download-btn {
        background: #b30000;
        color: white;
        padding: 1rem 2rem;
        border-radius: 25px;
        text-decoration: none;
        font-size: 1.2rem;
        transition: all 0.3s ease;
        display: inline-block;
        margin-bottom: 2rem;
    }
    
    .apk-download-btn:hover {
        background: #c40000;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(179, 0, 0, 0.4);
    }
    
    /* 响应式设计 */
    @media (max-width: 1024px) {
        .menu-container {
            padding: 1.5rem;
        }
        
        .nav-list {
            gap: 1.2rem;
        }
        
        .nav-item {
            max-width: 250px;
        }
        
        .icon-placeholder {
            width: 180px;
            height: 180px;
        }
        
        .help-buttons {
            flex-direction: column;
            align-items: center;
        }
        
        .contributors {
            flex-direction: column;
            align-items: center;
        }
    }
    
    @media (max-width: 768px) {
        .menu-container {
            padding: 1.2rem;
            border-radius: 8px;
        }
        
        .menu-title {
            padding: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .nav-list {
            flex-direction: column;
            gap: 1.5rem;
            width: 100%;
        }
        
        .nav-item {
            max-width: 100%;
        }
        
        .nav-link {
            padding: 1.2rem;
        }
        
        .download-btn {
            margin-top: 1.5rem;
            padding: 1.2rem;
        }
        
        .icon-placeholder {
            width: 150px;
            height: 150px;
        }
        
        .help-button {
            padding: 1.5rem;
        }
        
        .help-icon {
            width: 60px;
            height: 60px;
        }
        
        .contributor-card {
            max-width: 100%;
        }
        
        .theme-image-container {
            max-width: 100%;
        }
        
        .update-panel {
            padding: 1rem;
        }
        
        .update-title {
            font-size: 1.3rem;
        }
    }
    
    @media (max-width: 480px) {
        .menu-container {
            padding: 1rem;
        }
        
        .nav-link {
            padding: 1rem;
        }
        
        .download-btn {
            padding: 1rem;
        }
        
        .icon-placeholder {
            width: 120px;
            height: 120px;
            font-size: 0.8rem;
        }
        
        .help-button {
            padding: 1rem;
        }
        
        .help-icon {
            width: 56px;
            height: 56px;
        }
        
        .theme-image-placeholder {
            font-size: 1rem;
        }
        
        .update-panel {
            padding: 1rem;
        }
        
        .update-title {
            font-size: 1.2rem;
        }
        
        .update-content {
            font-size: 0.95rem;
        }
    }
  </style>
</head>

<body>
  <nav class="menu-container">
    <!-- 主页面 -->
    <div class="page active" id="main-page">
      <div class="icon-container">
        <div class="icon-placeholder">
          <img src="https://raw.githubusercontent.com/pigeoh/Firefight-TWR/main/icon.png" alt="icon" onerror="this.style.display='none'; this.parentNode.innerHTML='icon_load_fail'">
        </div>
      </div>

      <h1 class="menu-title" data-locale-key="title.main"></h1>

      <!-- 更新内容面板 -->
      <div class="update-panel">
        <div class="update-title" data-locale-key="update.title"></div>
        <div class="update-content">
          <p class="update-highlight" data-locale-key="update.highlight"></p>
          <p data-locale-key="update.content"></p>
        </div>

        <div class="main-theme-container">
          <div class="main-theme-image">
            <img src="https://raw.githubusercontent.com/pigeoh/Firefight-TWR/main/theme-img.png" alt="theme_image" onerror="this.style.display='none'; this.parentNode.innerHTML='theme_load_fail'">
          </div>
          <div class="main-image-caption" data-locale-key="update.version"></div>
        </div>
      </div>

      <ul class="nav-list">
        <li class="nav-item"><a href="#" class="nav-link" id="intro-link" data-locale-key="nav.intro"></a></li>
        <li class="nav-item"><a href="#" class="nav-link" data-locale-key="nav.wiki"></a></li>
        <li class="nav-item"><a href="#" class="nav-link" id="thanks-link" data-locale-key="nav.thanks"></a></li>
        <li class="nav-item"><a href="#" class="nav-link" id="download-link" data-locale-key="nav.download"></a></li>
        <li class="nav-item">
          <button class="nav-link download-btn" id="help-button" data-locale-key="button.help"></button>
        </li>
      </ul>
    </div>

    <!-- 帮助页面 -->
    <div class="page hidden" id="help-page">
      <div class="help-page">
        <h2 class="help-title" data-locale-key="help.title"></h2>

        <div class="help-buttons">
          <a href="https://qun.qq.com/universal-share/share?ac=1&authKey=htl9ZMJOxDI3UZ05gbbiG2%2BjqosCkZRdWUrsSRKtRwWeIbxrkRZ4%2FsMgzYPdklJu&busi_data=eyJncm91cENvZGUiOiI3NjczOTA5MTQiLCJ0b2tlbiI6InZEajQ3NlZ1UDJzZ24weGhSeWcvN2ozajU1MjJOTWdyU0daaHYybHJ5TWZ2NlBUei83K0tIaVYzWGo3VVFHaFUiLCJ1aW4iOiIxNjg0NzgxNDEifQ%3D%3D&data=rrTbqqkhWN_2d723UHIhrUcCpgVwdevfTUJwzuois1IKTOlbnVnrhAvCOLZ_IcklUEl4lf0eJyOxbVr1M84LEg&svctype=4&tempid=h5_group_info" class="help-button qq-button" target="_blank">
            <div class="help-icon" style="background: #12b7f5;">
              <img src="https://raw.githubusercontent.com/pigeoh/Firefight-TWR/main/icon-qq.png" alt="qq_icon" onerror="this.style.display='none'; this.parentNode.innerHTML='qq_icon_fail'">
            </div>
            <div class="button-title" data-locale-key="help.qq.title"></div>
            <div class="button-desc" data-locale-key="help.qq.desc"></div>
          </a>

          <a href="https://discord.com/channels/1007568260918693959/1209175441420722186" class="help-button discord-button" target="_blank">
            <div class="help-icon" style="background: #5865f2;">
              <img src="https://raw.githubusercontent.com/pigeoh/Firefight-TWR/main/icon-discord.png" alt="discord_icon" onerror="this.style.display='none'; this.parentNode.innerHTML='discord_icon_fail'">
            </div>
            <div class="button-title" data-locale-key="help.discord.title"></div>
            <div class="button-desc" data-locale-key="help.discord.desc"></div>
          </a>
        </div>

        <button class="back-button" id="back-button" data-locale-key="button.back"></button>
      </div>
    </div>

    <!-- 鸣谢页面 -->
    <div class="page hidden" id="thanks-page">
      <div class="thanks-page">
        <h2 class="thanks-title" data-locale-key="thanks.title"></h2>

        <div class="thanks-content" data-locale-key="thanks.content"></div>

        <div class="contributors">
          <div class="contributor-card">
            <div class="contributor-name" data-locale-key="contributor.sasha.name"></div>
            <div class="contributor-role" data-locale-key="contributor.sasha.role"></div>
          </div>

          <div class="contributor-card">
            <div class="contributor-name" data-locale-key="contributor.wudoo.name"></div>
            <div class="contributor-role" data-locale-key="contributor.wudoo.role"></div>
          </div>

          <div class="contributor-card">
            <div class="contributor-name" data-locale-key="contributor.you.name"></div>
            <div class="contributor-role" data-locale-key="contributor.you.role"></div>
          </div>
        </div>

        <button class="back-button" id="back-button-thanks" data-locale-key="button.back"></button>
      </div>
    </div>

    <!-- 介绍页面 -->
    <div class="page hidden" id="intro-page">
      <div class="intro-page">
        <h2 class="intro-title" data-locale-key="intro.title"></h2>

        <div class="intro-content" data-locale-key="intro.content"></div>

        <div class="theme-image-container">
          <div class="theme-image">
            <div class="theme-image-placeholder">
              <img src="https://raw.githubusercontent.com/pigeoh/Firefight-TWR/main/theme-img.png" alt="theme_image" onerror="this.style.display='none'; this.parentNode.innerHTML='theme_load_fail'">
            </div>
          </div>
          <div class="image-caption" data-locale-key="update.version"></div>
        </div>

        <button class="back-button" id="back-button-intro" data-locale-key="button.back"></button>
      </div>
    </div>

    <!-- 下载页面 -->
    <div class="page hidden" id="download-page">
      <div class="download-page">
        <h2 class="download-title" data-locale-key="download.title"></h2>

        <div class="declaration">
          <div class="declaration-title" data-locale-key="download.declaration.title"></div>
          <div class="declaration-content" data-locale-key="download.declaration.content"></div>
        </div>

        <a href="https://drive.google.com/uc?export=download&id=1BdmDu3xAWDIEgdkMDicsWWbC7Yn_dJyX" class="apk-download-btn" data-locale-key="button.download.apk"></a>

        <button class="back-button" id="back-button-download" data-locale-key="button.back"></button>
      </div>
    </div>
  </nav>

  <script>
    // 语言文件加载函数
    function loadLocale(lang) {
      return fetch(`lang_${lang}.properties`)
        .then(response => response.text())
        .then(data => {
          const lines = data.split('\n');
          const localeData = {};
          
          lines.forEach(line => {
            if (line.trim() && !line.startsWith('#')) {
              const [key, value] = line.split('=');
              if (key && value) {
                localeData[key.trim()] = value.trim();
              }
            }
          });
          
          return localeData;
        })
        .catch(error => {
          console.error('Error loading locale file:', error);
          return {};
        });
    }

    // 应用本地化文本（修复按钮问题）
    function applyLocalization(localeData) {
      document.querySelectorAll('[data-locale-key]').forEach(element => {
        const key = element.getAttribute('data-locale-key');
        if (localeData[key]) {
          // 输入型按钮（input[type=button]等）用value，其他元素用textContent
          if (element.tagName === 'INPUT') {
            element.value = localeData[key];
          } else {
            element.textContent = localeData[key];
          }
        }
      });
    }

    // 初始化页面
    document.addEventListener('DOMContentLoaded', function() {
      // 检测浏览器语言
      const userLang = navigator.language || navigator.userLanguage;
      const lang = userLang.startsWith('zh') ? 'zh' : 'en';
      
      // 加载并应用本地化
      loadLocale(lang).then(localeData => {
        applyLocalization(localeData);
        
        // 页面切换功能
        const helpButton = document.getElementById('help-button');
        const introLink = document.getElementById('intro-link');
        const thanksLink = document.getElementById('thanks-link');
        const downloadLink = document.getElementById('download-link');
        const backButton = document.getElementById('back-button');
        const backButtonThanks = document.getElementById('back-button-thanks');
        const backButtonIntro = document.getElementById('back-button-intro');
        const backButtonDownload = document.getElementById('back-button-download');
        
        const mainPage = document.getElementById('main-page');
        const helpPage = document.getElementById('help-page');
        const thanksPage = document.getElementById('thanks-page');
        const introPage = document.getElementById('intro-page');
        const downloadPage = document.getElementById('download-page');
        
        function switchPage(fromPage, toPage) {
            fromPage.classList.add('hidden');
            fromPage.classList.remove('active');
            
            setTimeout(function() {
                toPage.classList.remove('hidden');
                toPage.classList.add('active');
            }, 50);
        }
        
        helpButton.addEventListener('click', function() {
            switchPage(mainPage, helpPage);
        });
        
        introLink.addEventListener('click', function() {
            switchPage(mainPage, introPage);
        });
        
        thanksLink.addEventListener('click', function() {
            switchPage(mainPage, thanksPage);
        });
        
        downloadLink.addEventListener('click', function() {
            switchPage(mainPage, downloadPage);
        });
        
        backButton.addEventListener('click', function() {
            switchPage(helpPage, mainPage);
        });
        
        backButtonThanks.addEventListener('click', function() {
            switchPage(thanksPage, mainPage);
        });
        
        backButtonIntro.addEventListener('click', function() {
            switchPage(introPage, mainPage);
        });
        
        backButtonDownload.addEventListener('click', function() {
            switchPage(downloadPage, mainPage);
        });
      });
    });
  </script>
</body>

</html>
